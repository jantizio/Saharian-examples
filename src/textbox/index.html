<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>textbox examples</title>
        <link rel="stylesheet" href="../common/example.css" />
        <link rel="stylesheet" href="style.css" />
        <link rel="icon" href="../common/desert-256.png" />
    </head>

    <body>
        <h1 class="saharian-debug-h1">textbox examples</h1>
        <p>
            Here you can find different textbox examples. The textbox role is
            used to identify an element that allows the input of free-form text.
        </p>

        <section class="saharian-debug-correct">
            <h2 class="saharian-debug-h2">Plain HTML</h2>
            <p class="help saharian-debug-explanation">
                This implementation uses plain HTML.
            </p>
            <div class="example saharian-debug-flex">
                <div class="container">
                    <label for="txtbox">Message:</label>
                    <input type="text" placeholder="message" id="txtbox" />
                </div>
            </div>
        </section>

        <section class="saharian-debug-correct">
            <h2 class="saharian-debug-h2">
                Correct ARIA textbox with validation
            </h2>
            <p class="help saharian-debug-explanation">
                This is a correct textbox implemented by using plain HTML, with
                added input validation.
            </p>
            <div class="example saharian-debug-flex">
                <div class="container">
                    <form id="example-form" novalidate>
                        <label for="username">Username:</label>
                        <input
                            type="text"
                            id="username"
                            name="username"
                            aria-describedby="username-instructions"
                            aria-invalid="false"
                            aria-errormessage="username-error" />
                        <div id="username-instructions">
                            Enter a username with at least 5 characters.
                        </div>
                        <div id="username-error" class="error" hidden>
                            Username must be at least 5 characters long.
                        </div>

                        <button type="submit">Submit</button>
                    </form>

                    <script>
                        document
                            .getElementById("example-form")
                            .addEventListener("submit", function (event) {
                                event.preventDefault();

                                // Validate the username field
                                const usernameInput =
                                    document.getElementById("username");
                                const usernameError =
                                    document.getElementById("username-error");
                                if (usernameInput.value.length < 5) {
                                    usernameInput.setAttribute(
                                        "aria-invalid",
                                        "true"
                                    );
                                    usernameError.hidden = false;
                                } else {
                                    usernameInput.setAttribute(
                                        "aria-invalid",
                                        "false"
                                    );
                                    usernameError.hidden = true;
                                }
                            });
                    </script>
                </div>
            </div>
        </section>

        <section class="saharian-debug-correct">
            <h2 class="saharian-debug-h2">Correct ARIA textbox</h2>
            <p class="help saharian-debug-explanation">
                This is a correct textbox implemented by using attributes from
                the WAI-ARIA specification.
            </p>
            <div class="example saharian-debug-flex">
                <div class="container">
                    <div id="txtboxLabel">Message:</div>
                    <div
                        role="textbox"
                        contenteditable="true"
                        aria-placeholder="write your message here"
                        aria-labelledby="txtboxLabel"
                        aria-describedby="fieldhelp"
                        class="textbox"></div>
                    <p id="fieldhelp" class="help">
                        Enter your message to do nothing with.
                    </p>
                </div>
            </div>
        </section>

        <section class="saharian-debug-wrong">
            <h2 class="saharian-debug-h2">Wrong ARIA textbox</h2>
            <p class="help saharian-debug-explanation">No role attribute.</p>
            <div class="example saharian-debug-flex">
                <div class="container">
                    <div id="txtboxLabel">Message:</div>
                    <div
                        contenteditable="true"
                        aria-placeholder="write your message here"
                        aria-labelledby="txtboxLabel"
                        aria-describedby="fieldhelp"
                        class="textbox"></div>
                    <p id="fieldhelp" class="help">
                        Enter your message to do nothing with.
                    </p>
                </div>
            </div>
        </section>

        <section class="saharian-debug-wrong">
            <h2 class="saharian-debug-h2">Messy ARIA textbox</h2>
            <p class="help saharian-debug-explanation">
                Messy single line textbox with no keyboard support and aria
                attributes
            </p>
            <div class="example saharian-debug-flex">
                <div class="container">
                    <div id="txtboxLabel">Message:</div>
                    <div
                        role="textbox"
                        contenteditable="true"
                        tabindex="-1"
                        aria-labelledby="nulllabel"
                        aria-describedby="nullhelp"
                        class="textbox"></div>
                    <p id="fieldhelp" class="help">
                        Enter your message to do nothing with.
                    </p>
                </div>
            </div>
        </section>

        <section class="saharian-debug-correct">
            <h2 class="saharian-debug-h2">Mutiline textbox</h2>
            <p class="help saharian-debug-explanation">
                Correct multiline textbox simulating a textarea.
            </p>
            <div class="example saharian-debug-flex">
                <div class="container">
                    <div id="txtboxLabel">Message:</div>
                    <div
                        role="textbox"
                        contenteditable="true"
                        aria-placeholder="you can enter multiple lines of text"
                        aria-labelledby="txtboxLabel"
                        aria-describedby="fieldhelp"
                        aria-multiline="true"
                        class="textbox"></div>
                    <p id="fieldhelp" class="help">
                        Enter your message to do nothing with.
                    </p>
                </div>
            </div>
        </section>

        <script src="../common/example.js"></script>
    </body>
</html>
