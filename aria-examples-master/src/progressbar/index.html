<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>progressbar examples</title>
    <link rel="stylesheet" href="../common/example.css" />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <h1 class="saharian-debug-h1">progressbar examples</h1>
    <p>
      Here you can find different progressbar examples with various
      accessibility degrees, implemented both by using native HTML Elements and
      attributes from the WAI-ARIA specification.
    </p>

    <section class="saharian-debug-correct">
      <h2 class="saharian-debug-h2">Plain HTML</h2>
      <p class="help saharian-debug-explanation">
        This progressbar implementation uses native HTML elements to indicate
        that a task is in progress.
      </p>
      <div class="example saharian-debug-flex">
        <div class="container">
          <progress title="HTML progress" value="42" max="100">
            |||||||||||||||||||||||||||||||||||||||||||
          </progress>
        </div>
      </div>
    </section>

    <section class="saharian-debug-correct">
      <h2 class="saharian-debug-h2">Correct ARIA progressbar</h2>
      <p class="help saharian-debug-explanation">
        This is a correct progressbar implemented by using attributes from the
        WAI-ARIA specification.
      </p>
      <div class="example saharian-debug-flex">
        <div class="container">
          <div
            role="progressbar"
            aria-label="Upload progress"
            aria-valuemin="0"
            aria-valuenow="41"
            aria-valuemax="99"
            class="progressbar-aria"
          >
            <div class="filled" style="width: 41%"></div>
            <div class="unfilled" style="width: 59%"></div>
          </div>
        </div>
      </div>
    </section>

    <section class="saharian-debug-correct">
      <h2 class="saharian-debug-h2">
        Correct ARIA progressbar without automatic value computation
      </h2>
      <p class="help saharian-debug-explanation">
        This is a correct progressbar implemented by using attributes from the
        WAI-ARIA specification. It leverages
        <code>aria-valuetext</code> to bypass value computation performed by
        assistive technologies.
      </p>
      <div class="example saharian-debug-flex">
        <div class="container">
          <div
            role="progressbar"
            aria-label="Upload progress"
            aria-valuemin="0"
            aria-valuenow="41"
            aria-valuetext="42 out of 100"
            aria-valuemax="99"
            class="progressbar-aria"
          >
            <div class="filled" style="width: 41%"></div>
            <div class="unfilled" style="width: 59%"></div>
          </div>
        </div>
      </div>
    </section>


    <section class="saharian-debug-correct">
      <h2 class="saharian-debug-h2">
        Correct ARIA progressbar with dynamic value
      </h2>
      <p class="help saharian-debug-explanation">
        This is a correct progressbar implemented by using attributes from the
        WAI-ARIA specification. It updates its value using javascript
      </p>
      <div class="example saharian-debug-flex">
        <div class="container">
          <div
            role="progressbar"
            aria-label="Upload progress"
            aria-valuemin="0"
            aria-valuenow="0"
            aria-valuemax="100"
            class="progressbar-aria"
            id="dynamic-progressbar"
          >
            <div class="filled" style="width: 0%" id="dynamic-filled"></div>
            <div class="unfilled" style="width: 100%" id="dynamic-unfilled"></div>
          </div>
        </div>
      </div>

      <script>
        const progressbar = document.getElementById("dynamic-progressbar");
        let progress = 0;
        setInterval(() => {
          if (progress >= 100) {
            progress = 0;
          }
          progress = progress + 1;
          progressbar.setAttribute("aria-valuenow", progress);
          progressbar.querySelector("#dynamic-filled").style.width = `${progress}%`;
        }, 1000);
      </script>
    </section>

    <section class="saharian-debug-wrong">
      <h2 class="saharian-debug-h2">Wrong JavaScript Progressbar</h2>
      <p class="help saharian-debug-explanation">
        This is a custom progress bar implemented using JavaScript without ARIA
        attributes or other accessibility features.
      </p>
      <div class="example saharian-debug-flex">
        <div class="container">
          <div class="progressbar-custom">
            <div class="progressbar-fill" style="width: 42%"></div>
          </div>
        </div>
      </div>
    </section>

    <script src="../common/example.js"></script>
  </body>
</html>
