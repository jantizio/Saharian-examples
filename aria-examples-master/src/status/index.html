<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>status examples</title>
    <link rel="stylesheet" href="../common/example.css" />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <h1 class="saharian-debug-h1">status examples</h1>
    <p>
      Here you can find different status examples with various accessibility
      degrees, implemented both by using native HTML Elements and attributes
      from the WAI-ARIA specification.
    </p>

    <section class="saharian-debug-correct">
      <h2 class="saharian-debug-h2">Plain HTML</h2>
      <p class="help saharian-debug-explanation">
        This is an accessible status example that leverages the native HTML
        Output element.
      </p>
      <div class="example saharian-debug-flex">
        <div class="container">
          <output id="status0" class="status"></output>
          <script>
            function message0() {
              const twoDigits = (i) => ("0" + i).substr(-2);

              let today = new Date();
              let time =
                twoDigits(today.getHours()) +
                ":" +
                twoDigits(today.getMinutes()) +
                ":" +
                twoDigits(today.getSeconds());
              let m =
                today.getSeconds() % 2 == 0
                  ? " - Seconds are even."
                  : " - Seconds are odd.";
              document.getElementById("status0").innerHTML = time + m;
              let next = Math.random() * 4000;
              setTimeout(empty1, next - 100);
              setTimeout(message0, next);
            }
            function empty1() {
              document.getElementById("status0").innerHTML = "";
            }
            message0();
          </script>
        </div>
      </div>
    </section>

    <section class="saharian-debug-correct">
      <h2 class="saharian-debug-h2">Correct ARIA status</h2>
      <p class="help saharian-debug-explanation">
        This is a correct status update implemented by using attributes from the
        WAI-ARIA specification.
      </p>
      <div class="example saharian-debug-flex">
        <div class="container">
          <div role="status" id="status1" class="status"></div>
          <script>
            function message1() {
              const twoDigits = (i) => ("0" + i).substr(-2);

              let today = new Date();
              let time =
                twoDigits(today.getHours()) +
                ":" +
                twoDigits(today.getMinutes()) +
                ":" +
                twoDigits(today.getSeconds());
              let m =
                today.getSeconds() % 2 == 0
                  ? " - Seconds are even."
                  : " - Seconds are odd.";
              document.getElementById("status1").innerHTML = time + m;
              let next = Math.random() * 4000;
              setTimeout(empty1, next - 100);
              setTimeout(message1, next);
            }
            function empty1() {
              document.getElementById("status1").innerHTML = "";
            }
            message1();
          </script>
        </div>
      </div>
    </section>

    <section class="saharian-debug-wrong">
      <h2 class="saharian-debug-h2">No status role</h2>
      <p class="help saharian-debug-explanation">
        This is an incorrect status update without the role attribute.
      </p>
      <div class="example saharian-debug-flex">
        <div class="container">
          <div id="status2" class="status"></div>
          <script>
            function message2() {
              const twoDigits = (i) => ("0" + i).substr(-2);
              let today = new Date();
              let time =
                twoDigits(today.getHours()) +
                ":" +
                twoDigits(today.getMinutes()) +
                ":" +
                twoDigits(today.getSeconds());
              let m =
                today.getSeconds() % 2 == 0
                  ? " - Seconds are even."
                  : " - Seconds are odd.";
              document.getElementById("status2").innerHTML = time + m;
              let next = Math.random() * 4000;
              setTimeout(empty2, next - 100);
              setTimeout(message2, next);
            }
            function empty2() {
              document.getElementById("status2").innerHTML = "";
            }
            message2();
          </script>
        </div>
      </div>
    </section>
    <script src="../common/example.js"></script>
  </body>
</html>
